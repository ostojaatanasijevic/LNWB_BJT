* Z:\home\ostoja\Elektronika\LNWB_BJT\301_servo.asc
V1 12V 0 12
V2 -15V 0 -15
V7 N007 0 SINE(0 0.02m {f})
R10 5V N003 {Rc}
R11 5V N005 {Rc}
C4 N009 N008 100n
R14 N008 N007 50
R15 N009 0 50
R24 20x_OUTPUT N010 200
R25 N010 0 10
C11 20x_OUTPUT N010 5p
Q5 N003 N009 N012 0 2N4401
Q6 N005 N010 N012 0 2N4401
V3 -5V 0 -5
V4 5V 0 5
D1 N014 0 1N4148
D2 N009 N014 1N4148
D3 N013 N009 1N4148
D4 0 N013 1N4148
B1 N011 0 V=V(20x_OUTPUT)
C3 out_1 N011 10000
R3 out_1 0 1m
D7 N017 -5V 1N4148
D8 N016 N017 1N4148
R2 12V N016 10k
XU1 N005 N003 5V -5V 20x_OUTPUT AD8009an
B2 N006 0 V=V(out_1)
D5 N006 max_1 MyIdealDiode
C1 max_1 0 1µ
D6 min_1 N006 MyIdealDiode
C2 min_1 0 1µ
B3 N015 0 V=V(max_1) - V(min_1)
XU4 N004 N002 5V -5V base TL072
R7 N002 N003 1Meg
R8 N002 N005 1Meg
C5 N002 base 51p
R9 N004 5V 50k
R12 N004 0 100k
Q1 -5V base N012 0 2N2905
R4 N012 base 1k
V5 N021 0 SINE(0 0.02m {f})
R1 5V N018 {Rc}
R5 5V N020 {Rc}
C6 N023 N022 100n
R6 N022 N021 50
R13 N023 0 50
R16 N019 N024 200
R17 N024 0 10
C7 N019 N024 5p
Q2 N018 N023 N025 0 2N4401
Q3 N020 N024 N025 0 2N4401
D9 N027 0 1N4148
D10 N023 N027 1N4148
D11 N026 N023 1N4148
D12 0 N026 1N4148
XU2 N020 N018 5V -5V N019 AD8009an
Q4 -5V N028 N025 0 2N2905
R18 N028 -5V 610k
.model D D
.lib C:\users\ostoja\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\users\ostoja\Documents\LTspiceXVII\lib\cmp\standard.bjt
.lib Z:\home\ostoja\Elektronika\LNWBA\LSK389B.lib
.tran 0 200u 0 10n
.lib Z:\home\ostoja\Elektronika\LNWBA\lm7171.lib
.lib Z:\home\ostoja\Elektronika\LNWBA\LM6171A.MOD
.param Trim = 100
* 40x
* 0.5x
;.step param f list 100k 1Meg 5Meg 9Meg 13Meg 17Meg 21Meg 25Meg
.ic V(m1) = 0
.model MyIdealDiode D(Ron=1 Roff=100Meg Vfwd=0 Vrev=20)
.param Rc = 2k2
.param f = 20Meg
* pot
* 40x
* 0.5x
.lib AD8009an.sub
.lib TL072.cir
.backanno
.end
